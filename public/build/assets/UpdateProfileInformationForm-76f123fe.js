import{P as B,r as b,T as N,q as I,o as f,c as w,w as l,d as n,b as t,a as o,i as p,O as v,u as e,Q as U,e as h,g as _,f as P,k as $,L as E}from"./app-18d35bfb.js";import{a as y,_ as x}from"./TextInput-41d2a165.js";import{_ as g}from"./InputLabel-6d537036.js";import{P as q}from"./PrimaryButton-2adc0824.js";import{_ as A}from"./ActionSection-0801c252.js";import"./_plugin-vue_export-helper-c27b6911.js";const R={class:"col-span-6 sm:col-span-4"},T={class:"mt-2"},D=["src","alt"],F={class:"mt-2"},L={key:0},j={class:"text-sm mt-2 text-gray-800"},z={class:"mt-2 font-medium text-sm text-green-600"},K={class:"flex items-center gap-4"},M={key:0,class:"text-sm text-gray-600"},W={__name:"UpdateProfileInformationForm",props:{mustVerifyEmail:{type:Boolean},status:{type:String}},setup(k){const i=B().props.auth.user,u=b(null),m=b(null),a=N({name:i.name,email:i.email,photo:null}),V=()=>{u.value&&(a.photo=u.value.files[0])},S=()=>{const r=u.value.files[0];if(!r)return;const s=new FileReader;s.onload=c=>{m.value=c.target.result},s.readAsDataURL(r)},C=()=>{u.value.click()};return(r,s)=>{const c=I("SecondaryButton");return f(),w(A,null,{title:l(()=>[n("Profile Information")]),description:l(()=>[n("Update your account's profile information and email address.")]),content:l(()=>[t("form",{onSubmitted:V,onSubmit:s[2]||(s[2]=h(d=>e(a).patch(r.route("profile.update")),["prevent"])),class:"mt-6 space-y-6"},[t("div",R,[t("input",{id:"photo",ref_key:"photoInput",ref:u,type:"file",class:"hidden",onChange:S},null,544),o(g,{for:"photo",value:"Photo"}),p(t("div",T,[t("img",{src:e(i).avatar_url,alt:e(i).name,class:"rounded-full h-20 w-20 object-cover"},null,8,D)],512),[[v,!m.value]]),p(t("div",F,[t("span",{class:"block rounded-full w-20 h-20 bg-cover bg-no-repeat bg-center",style:U("background-image: url('"+m.value+"');")},null,4)],512),[[v,m.value]]),o(c,{class:"mt-2 me-2",type:"button",onClick:h(C,["prevent"])},{default:l(()=>[n(" Select A New Photo ")]),_:1},8,["onClick"]),e(i).profile_photo_path?(f(),w(c,{key:0,type:"button",class:"mt-2",onClick:h(r.deletePhoto,["prevent"])},{default:l(()=>[n(" Remove Photo ")]),_:1},8,["onClick"])):_("",!0),o(y,{message:e(a).errors.photo,class:"mt-2"},null,8,["message"])]),t("div",null,[o(g,{for:"name",value:"Name"}),o(x,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:e(a).name,"onUpdate:modelValue":s[0]||(s[0]=d=>e(a).name=d),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),o(y,{class:"mt-2",message:e(a).errors.name},null,8,["message"])]),t("div",null,[o(g,{for:"email",value:"Email"}),o(x,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:e(a).email,"onUpdate:modelValue":s[1]||(s[1]=d=>e(a).email=d),required:"",autocomplete:"username"},null,8,["modelValue"]),o(y,{class:"mt-2",message:e(a).errors.email},null,8,["message"])]),k.mustVerifyEmail&&e(i).email_verified_at===null?(f(),P("div",L,[t("p",j,[n(" Your email address is unverified. "),o(e($),{href:r.route("verification.send"),method:"post",as:"button",class:"underline text-sm text-gray-600 hover:text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:l(()=>[n(" Click here to re-send the verification email. ")]),_:1},8,["href"])]),p(t("div",z," A new verification link has been sent to your email address. ",512),[[v,k.status==="verification-link-sent"]])])):_("",!0),t("div",K,[o(q,{disabled:e(a).processing},{default:l(()=>[n("Save")]),_:1},8,["disabled"]),o(E,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:l(()=>[e(a).recentlySuccessful?(f(),P("p",M,"Saved.")):_("",!0)]),_:1})])],32)]),_:1})}}};export{W as default};
