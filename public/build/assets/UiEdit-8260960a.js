import{_ as v}from"./AuthenticatedLayout-96c77611.js";import{l as A,p as l,o as s,f as i,a as d,w as h,F as c,Z as _,j as y,b as e,q as u,n as k,t as x}from"./app-bec4542d.js";import C from"./PromptForm-fab0b394.js";import P from"./ChatMessage-b81123d9.js";import S from"./ChatList-c26445f9.js";import{E as B}from"./Editor-be4f3e40.js";import{_ as E}from"./_plugin-vue_export-helper-c27b6911.js";const L=A({props:{user:Object,ui:Object},components:{AuthenticatedLayout:v,Head:_,Link:y,PromptForm:C,ChatMessage:P,ChatList:S,Editor:B},data(){return{code:"",messages:[],placeholder:"",components:[],examples:[{prompt:"A kanban board",label:"Kanban"},{prompt:"A landing page hero section with a heading, leading text and an opt-in form.",label:"Landing Page"},{prompt:"A contact form with first name, last name, email, and message fields. Put the form in a card with a submit button.",label:"Contact Form"},{prompt:"A dashboard with a sidebar nav and a table",label:"Dashboard"},{prompt:"An ecommerce dashboard with a sidebar navigation and a table of recent orders.",label:"Ecommerce"},{prompt:"A user profile card with a profile picture, name, and bio.",label:"Profile Card"},{prompt:"A blog post layout with a title, featured image, and content area.",label:"Blog Post"},{prompt:"A pricing table with three columns for different plans, each with a title, features list, and a call-to-action button.",label:"Pricing Table"},{prompt:"A product card with an image, product name, price, and add-to-cart button.",label:"Product Card"},{prompt:"A sidebar navigation menu with icons and labels for each item.",label:"Sidebar Menu"},{prompt:"A hero section with a background image, headline, subheadline, and a call-to-action button.",label:"Hero Section"},{prompt:"A login form with email and password fields, a submit button, and a 'forgot password' link.",label:"Login Form"},{prompt:"A registration form with fields for username, email, password, and a submit button.",label:"Registration Form"},{prompt:"A modal dialog with a title, content area, and action buttons.",label:"Modal Dialog"},{prompt:"A footer with columns for links, contact information, and social media icons.",label:"Footer"},{prompt:"A search bar with an input field and a search button.",label:"Search Bar"},{prompt:"A notification banner with an icon, message text, and a close button.",label:"Notification Banner"},{prompt:"A task list with checkboxes, task descriptions, and a button to add new tasks.",label:"Task List"},{prompt:"A calendar view with days of the week and scheduled events.",label:"Calendar View"},{prompt:"A testimonial section with quotes, author names, and author photos.",label:"Testimonial Section"},{prompt:"A breadcrumb navigation with links to each section.",label:"Breadcrumb Navigation"},{prompt:"A card layout for a team section with member photos, names, and roles.",label:"Team Section"},{prompt:"A chat interface with a list of messages, an input field, and a send button.",label:"Chat Interface"},{prompt:"An FAQ section with questions and collapsible answers.",label:"FAQ Section"},{prompt:"A progress bar indicating completion percentage.",label:"Progress Bar"},{prompt:"A weather widget displaying the current temperature, weather condition, and a weekly forecast.",label:"Weather Widget"},{prompt:"A timeline component showing events in chronological order with dates and descriptions.",label:"Timeline"},{prompt:"A responsive navigation bar with dropdown menus and a search input.",label:"Navigation Bar"},{prompt:"A statistics dashboard with cards displaying key metrics, charts, and graphs.",label:"Statistics Dashboard"},{prompt:"An image gallery with thumbnails and a lightbox feature for viewing full-size images.",label:"Image Gallery"},{prompt:"A testimonials carousel with customer reviews, names, and photos.",label:"Testimonials Carousel"},{prompt:"A live chat widget with an input field, send button, and conversation history.",label:"Live Chat Widget"},{prompt:"An order summary card with product details, prices, and a total amount.",label:"Order Summary"},{prompt:"A loading spinner or progress indicator.",label:"Loading Spinner"},{prompt:"A feature section with icons, headings, and descriptions for each feature.",label:"Feature Section"}],prompt:"",promptImages:[],promptButtons:[],isUserScrollBottom:!0}},mounted(){window.ui=this;const t=Math.floor(Math.random()*this.examples.length);this.placeholder=this.examples[t].prompt,this.promptButtons=this.getRandomPrompts(this.examples,5)},methods:{changeImages(t){this.images=t},shuffle(){this.promptButtons=this.getRandomPrompts(this.examples,5)},getRandomPrompts(t,o){return t.sort(()=>.5-Math.random()).slice(0,o)},examplePrompt(t){this.prompt=t.prompt},send:async function(){let t=this.getPrompt;this.code!=""&&t.unshift([{type:"text",text:this.code}]),console.log(t,"PROMPT");try{const p=(await axios.post(route("ui.send",{}),{prompt:t})).data.uiId,n=new EventSource(route("ui.stream",{uiId:p}),{withCredentials:!0});this.code="",n.addEventListener("message",r=>{const m=JSON.parse(r.data);m.delta.content&&(this.code=this.code+m.delta.content)}),n.addEventListener("stop",r=>{n.close()}),n.addEventListener("error",r=>{console.error("EventSource failed:",r.data),n.close()})}catch(o){console.error("Error with POST request:",o)}}},computed:{getPrompt(){return[{type:"text",text:this.prompt??""},...this.promptImages]}}}),I=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Ui",-1),F={class:"flex flex-col h-full"},M=e("img",{class:"absolute z-10 inset-0 object-cover pointer-events-none",src:"/img/bg.svg"},null,-1),T={class:"@container z-20 items-center justify-center grow flex flex-col"},z={class:"z-20 my-32"},j={class:"max-w-[80vw] overflow-x-scroll flex space-x-2 mt-2 whitespace-nowrap"},N=["onClick"],O=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})],-1),U=[O],V={class:"z-10"},$={class:"grid grid-cols-3"};function R(t,o,p,n,r,m){const b=l("Head"),g=l("PromptForm"),f=l("Editor"),w=l("AuthenticatedLayout");return s(),i(c,null,[d(b,{title:"Chat"}),d(w,{class:"bg-gray-50 dark:bg-black"},{header:h(()=>[I]),default:h(()=>[e("div",F,[M,e("div",T,[e("div",z,[d(g,{class:"",onSend:t.send,onChangeImages:t.changeImages,images:t.promptImages,prompt:t.prompt,"onUpdate:prompt":o[0]||(o[0]=a=>t.prompt=a),rows:"2",placeholder:t.placeholder},null,8,["onSend","onChangeImages","images","prompt","placeholder"]),e("div",j,[(s(!0),i(c,null,u(t.promptButtons,a=>(s(),i("button",{class:k([t.prompt==a.prompt?"bg-gray-100":"bg-white","border hover:border-gray-800 rounded-full px-2"]),onClick:q=>t.examplePrompt(a)},[e("div",null,x(a.label),1)],10,N))),256)),e("button",{class:"border hover:border-gray-800 rounded-full px-2 bg-white",onClick:o[1]||(o[1]=(...a)=>t.shuffle&&t.shuffle(...a))},U)])])]),e("div",V,[d(f,{class:"border-2 mx-5 lg:mx-20",modelValue:t.ui.html,"onUpdate:modelValue":o[2]||(o[2]=a=>t.ui.html=a)},null,8,["modelValue"])])]),e("div",$,[(s(!0),i(c,null,u(t.components,a=>(s(),i("div"))),256))])]),_:1})],64)}const Z=E(L,[["render",R]]);export{Z as default};
